(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{30:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var r,s=n(0),c=n.n(s),a=n(12),i=n.n(a),o=n(5),u=n(7),l=(n(29),n(30),n(14)),d=n(18),j=n(11),p=n(13),b=n(3),f=n.n(b),h=n(4),x=function(){var t=Object(h.a)(f.a.mark((function t(e,n){var r,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://bloggy-api.herokuapp.com/".concat(e),t.next=3,fetch(r,n);case 3:return s=t.sent,t.next=6,s.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("posts"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(h.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("posts/".concat(e,"?_embed=comments")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(h.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("posts/".concat(e),{method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(h.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("comments",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(h.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(h.a)(f.a.mark((function t(e,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("posts/".concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();!function(t){t.SetPost="post/set"}(r||(r={}));var w,g={setPost:function(t){return{type:r.SetPost,value:t}},loadPost:function(t){return function(){var e=Object(h.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:r=e.sent,n(g.setPost(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addComment:function(t){return function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return e.next=4,g.loadPost(t.postId)(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},P=function(t){return t.post},S=function(t){return Object(p.a)(t.post.comments||[]).reverse()},E={id:0,title:"",body:"",comments:[]};!function(t){t.SetPosts="posts/set"}(w||(w={}));var _={setPosts:function(t){return{type:w.SetPosts,value:t}},loadPosts:function(){return function(){var t=Object(h.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:n=t.sent,e(_.setPosts(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(t){return function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return e.next=4,_.loadPosts()(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addPost:function(t){return function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return e.next=4,_.loadPosts()(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updatePost:function(t,e){return function(){var n=Object(h.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k(t,e);case 2:return n.next=4,_.loadPosts()(r);case 4:return n.next=6,g.loadPost(t)(r);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}},C=function(t){return t.posts},I=Object(l.b)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w.SetPosts:return Object(p.a)(e.value);default:return t}},post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.SetPost:return Object(j.a)({},e.value);default:return t}}}),T=Object(l.c)(I,Object(l.a)(d.a)),D=n(2),F=(n(32),n(33),n(1)),J=function(){return Object(F.jsx)("header",{children:Object(F.jsxs)("nav",{className:"nav has-background-link",children:[Object(F.jsx)("span",{className:"nav__title has-text-white",children:"Blog"}),Object(F.jsx)(u.b,{to:"/new",className:"nav__button button is-link is-light",children:"Add a new post"})]})})},R=function(){var t=Object(o.b)(),e=Object(D.g)(),n=Object(D.f)("/new"),r=Object(o.c)(P),c=Object(s.useRef)({}),a=Object(s.useRef)({});return Object(F.jsxs)("form",{className:"box",onSubmit:n?function(n){n.preventDefault();var r={title:c.current.value,body:a.current.value};t(_.addPost(r)),e("/")}:function(n){n.preventDefault();var s={title:c.current.value,body:a.current.value};t(_.updatePost(r.id,s)),e("/".concat(r.id))},children:[Object(F.jsx)("div",{className:"field",children:Object(F.jsx)("input",{type:"text",defaultValue:n?"":r.title,ref:c,placeholder:"Enter your title",required:!0,className:"input is-link"})}),Object(F.jsx)("div",{className:"field",children:Object(F.jsx)("textarea",{placeholder:"Enter your post",defaultValue:n?"":r.body,ref:a,required:!0,className:"textarea is-link has-fixed-size"})}),Object(F.jsxs)("div",{className:"field is-grouped is-grouped-right",children:[Object(F.jsx)("div",{className:"control",children:Object(F.jsx)("button",{type:"reset",className:"button is-link is-light",children:"Reset"})}),Object(F.jsx)("div",{className:"control",children:Object(F.jsx)("button",{type:"submit",className:"button is-link",children:n?"Add":"Update"})})]})]})},U=function(){var t=Object(o.b)(),e=Object(s.useRef)({}),n=Object(D.h)().postId;return Object(F.jsxs)("form",{onSubmit:function(r){r.preventDefault();var s={postId:+n,body:e.current.value};e.current.value="",t(g.addComment(s))},children:[Object(F.jsx)("div",{className:"field",children:Object(F.jsx)("input",{type:"text",placeholder:"Enter your comment",ref:e,required:!0,className:"input is-link"})}),Object(F.jsxs)("div",{className:"field is-grouped is-grouped-right",children:[Object(F.jsx)("div",{className:"control",children:Object(F.jsx)("button",{type:"reset",className:"button is-link is-light",children:"Reset"})}),Object(F.jsx)("div",{className:"control",children:Object(F.jsx)("button",{type:"submit",className:"button is-link",children:"Add"})})]})]})},q=function(){var t=Object(o.c)(S);return Object(F.jsxs)("div",{className:"box",children:[Object(F.jsx)(U,{}),Object(F.jsx)("h2",{className:"title has-text-link is-5",children:"Comments:"}),Object(F.jsx)("ul",{className:"list",children:t.map((function(t){return Object(F.jsx)("li",{className:"message is-link",children:Object(F.jsx)("p",{className:"list__item message-body has-text-link",children:t.body})},t.id)}))})]})},A=function(){var t=Object(o.b)(),e=Object(D.g)(),n=Object(D.h)().postId,r=Object(o.c)(P);Object(s.useEffect)((function(){t(g.loadPost(+n))}),[n]);return r.id?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"card",children:[Object(F.jsx)("header",{className:"card-header",children:Object(F.jsx)("p",{className:"card-header-title is-centered has-text-link",children:r.title})}),Object(F.jsx)("article",{className:"card-content",children:Object(F.jsx)("div",{className:"content",children:r.body})}),Object(F.jsxs)("footer",{className:"card-footer",children:[Object(F.jsx)(u.b,{to:"/".concat(n,"/edit"),className:"card-footer-item",children:"Edit"}),Object(F.jsx)("a",{href:"/",className:"card-footer-item",onClick:function(n){n.preventDefault(),t(_.deletePost(r.id)),e("/")},children:"Delete"})]})]}),Object(F.jsx)(q,{})]}):Object(F.jsx)("div",{className:"box has-background-danger-light has-text-danger",children:"Post is not found"})},B=(n(35),function(){var t=Object(o.b)(),e=Object(o.c)(C);return Object(s.useEffect)((function(){t(_.loadPosts())}),[]),Object(F.jsx)("ul",{className:"list box",children:e.map((function(t){return Object(F.jsx)("li",{className:"message is-link",children:Object(F.jsx)(u.b,{to:"/".concat(t.id),className:"list__item message-body has-text-link",children:t.title})},t.id)}))})}),V=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(J,{}),Object(F.jsxs)("div",{className:"columns",children:[Object(F.jsx)("div",{className:"column is-two-thirds",children:Object(F.jsx)(B,{})}),Object(F.jsx)("div",{className:"column",children:Object(F.jsxs)(D.c,{children:[Object(F.jsx)(D.a,{path:"/",element:Object(F.jsx)("div",{className:"box has-background-warning-light has-text-link",children:"Please, choose a post in order to see the details."})}),Object(F.jsx)(D.a,{path:"/:postId",element:Object(F.jsx)(A,{})}),Object(F.jsx)(D.a,{path:"/:postId/edit",element:Object(F.jsx)(R,{})}),Object(F.jsx)(D.a,{path:"/new",element:Object(F.jsx)(R,{})})]})})]})]})};i.a.render(Object(F.jsx)(o.a,{store:T,children:Object(F.jsx)(u.a,{children:Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(V,{})})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.25e809da.chunk.js.map